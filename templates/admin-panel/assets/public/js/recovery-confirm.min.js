var app=angular.module("RecoveryConfirm",[]).directive("btnSubmit",function(){return function(a,d,b){a.$watch(function(){return a.$eval(b.btnSubmit)},function(a){var c=$(d).button();a?c.button("loading"):c.button("reset")})}});RecoveryConfirm.$inject=["$scope","$http"];
function RecoveryConfirm(a,d){a.user={URL:document.URL};a.close=function(){a.error=""};a.update=function(b){a.close();a.working=!0;a.user=angular.copy(b);d.post("../recovery-confirm.json",b).success(function(b){b.Ok?window.location.replace("../u/"):a.error=b.Error;a.working=!1}).error(function(b,c){404==c?a.error="NotFound":alert("HTTP "+c+": "+b);a.working=!1})}};
