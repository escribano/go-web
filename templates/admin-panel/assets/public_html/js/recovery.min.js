var app=angular.module("Recovery",[]).directive("btnSubmit",function(){return function(a,c,b){a.$watch(function(){return a.$eval(b.btnSubmit)},function(a){var b=$(c).button();a?b.button("loading"):b.button("reset")})}});Recovery.$inject=["$scope","$http"];
function Recovery(a,c){a.user={};a.close=function(){a.error=""};a.update=function(b){a.close();a.working=!0;a.user=angular.copy(b);c.post("recovery.json",b).success(function(b){b.Ok?window.location.replace("recovery-ok.html"):a.error=b.Error;a.working=!1}).error(function(b,c){alert("HTTP "+c+": "+b);a.working=!1})}};
